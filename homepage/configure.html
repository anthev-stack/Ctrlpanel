<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GameControl | Configure Your Server</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        .config-hero {
            padding: 2rem 1.5rem 0;
            background: radial-gradient(circle at top, rgba(79, 70, 229, 0.35), rgba(8, 11, 31, 0.95));
        }

        .config-main {
            padding: 2rem 1.5rem 4rem;
            background: var(--bg);
        }

        .configurator {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .config-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 1.25rem;
            padding: 2rem;
            box-shadow: 0 30px 60px rgba(15, 23, 42, 0.28);
        }

        .config-card h3 {
            margin-bottom: 1rem;
        }

        .option-list {
            display: grid;
            gap: 0.75rem;
        }

        .option-tile {
            padding: 0.9rem 1rem;
            border: 1px solid var(--border);
            border-radius: 0.85rem;
            cursor: pointer;
            transition: border 0.2s ease, background 0.2s ease;
        }

        .option-tile.active {
            border: 1px solid rgba(99, 102, 241, 0.6);
            background: rgba(99, 102, 241, 0.08);
        }

        .range-group {
            margin-bottom: 1.25rem;
        }

        .range-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.35rem;
            font-weight: 500;
        }

        .summary-box {
            border: 1px solid rgba(99, 102, 241, 0.3);
            background: rgba(99, 102, 241, 0.05);
            border-radius: 1rem;
            padding: 1.5rem;
        }

        .summary-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.6rem;
        }

        .summary-total {
            font-size: 1.25rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
        }
    </style>
</head>

<body>
    <header class="config-hero">
        <nav class="nav">
            <div class="logo">GameControl</div>
            <div class="nav-links">
                <a href="index.html#features">Features</a>
                <a href="index.html#pricing">Pricing</a>
                <a href="configure.html" class="btn btn-outline">Configurator</a>
                <a class="btn" href="https://panel.gamecontrol.cc" target="_blank" rel="noopener">Panel Login</a>
            </div>
        </nav>
        <div class="hero-content">
            <div class="hero-text">
                <h1>Build a Server Plan Tailored for Your Community</h1>
                <p>
                    Choose the game, dial in RAM and player slots, preview the monthly cost,
                    and jump straight into billing. You’ll provision the server on our Pterodactyl
                    infrastructure in just a few clicks.
                </p>
            </div>
        </div>
    </header>

    <main class="config-main">
        <section class="configurator" x-data="configureApp()">
            <div class="config-card">
                <h3>Game</h3>
                <div class="option-list">
                    <template x-for="plan in Object.values(plans)" :key="plan.id">
                        <label class="option-tile" :class="{'active': selectedPlan === plan.id}">
                            <input type="radio" class="d-none" :value="plan.id" x-model="selectedPlan">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <strong x-text="plan.name"></strong>
                                    <p class="mb-0 text-muted" x-text="plan.description"></p>
                                </div>
                                <span class="badge badge-light"
                                    x-text="formatCredits(plan.basePrice) + ' credits'"></span>
                            </div>
                        </label>
                    </template>
                </div>
                <div class="mt-3">
                    <label>Location</label>
                    <select class="custom-select mt-1" x-model="selectedLocation">
                        <option value="dallas">Dallas, USA</option>
                        <option value="new-york">New York, USA</option>
                        <option value="frankfurt">Frankfurt, EU</option>
                        <option value="sydney">Sydney, AU</option>
                    </select>
                </div>
            </div>

            <div class="config-card">
                <h3>Resources</h3>

                <div class="range-group" x-show="currentPlan">
                    <div class="range-label">
                        <span>RAM</span>
                        <span x-text="ramLabel()"></span>
                    </div>
                    <input type="range" min="0" :max="currentPlan.maxRamSteps" step="1" class="custom-range"
                        x-model.number="ramSteps" @input="updatePrice">
                    <small class="text-muted" x-text="ramDescription()"></small>
                </div>

                <div class="range-group" x-show="currentPlan">
                    <div class="range-label">
                        <span>Player Slots</span>
                        <span x-text="slotLabel()"></span>
                    </div>
                    <input type="range" min="0" :max="currentPlan.maxSlotSteps" step="1" class="custom-range"
                        x-model.number="slotSteps" @input="updatePrice">
                    <small class="text-muted" x-text="slotDescription()"></small>
                </div>

                <div class="alert alert-info" x-show="!currentPlan">
                    Select a game on the left to unlock resource controls.
                </div>
            </div>

            <div class="config-card summary-box">
                <h3>Summary</h3>
                <div class="summary-line">
                    <span>Game</span>
                    <strong x-text="currentPlan ? currentPlan.name : '—'"></strong>
                </div>
                <div class="summary-line">
                    <span>Location</span>
                    <strong x-text="locationLabel()"></strong>
                </div>
                <div class="summary-line">
                    <span>Memory</span>
                    <strong x-text="ramLabel()"></strong>
                </div>
                <div class="summary-line">
                    <span>Player Slots</span>
                    <strong x-text="slotLabel()"></strong>
                </div>
                <div class="summary-total">
                    <span>Total</span>
                    <span x-text="formatCredits(totalPrice) + ' credits / month'"></span>
                </div>
                <p class="mt-2 text-muted" style="font-size: 0.9rem;">
                    Final provisioning and billing happens inside our secure client area.
                </p>
                <a class="btn btn-block btn"
                    href="https://billing.gamecontrol.cc/register"
                    target="_blank" rel="noopener">
                    Continue to Billing
                </a>
            </div>
        </section>
    </main>

    <script>
        function configureApp() {
            return {
                plans: {
                    cs2: {
                        id: 'cs2',
                        name: 'Counter-Strike 2',
                        description: '2.5 GB RAM · 10 slots · NVMe storage',
                        basePrice: 3000,
                        baseRamGb: 2.5,
                        ramIncrementGb: 0.5,
                        ramIncrementPrice: 500,
                        maxRamSteps: 6,
                        baseSlots: 10,
                        slotIncrement: 2,
                        slotIncrementPrice: 150,
                        maxSlotSteps: 7
                    },
                    csgo: {
                        id: 'csgo',
                        name: 'Counter-Strike: Global Offensive',
                        description: '2 GB RAM · 10 slots · SSD storage',
                        basePrice: 2400,
                        baseRamGb: 2,
                        ramIncrementGb: 0.5,
                        ramIncrementPrice: 350,
                        maxRamSteps: 6,
                        baseSlots: 10,
                        slotIncrement: 2,
                        slotIncrementPrice: 120,
                        maxSlotSteps: 6
                    },
                    minecraft: {
                        id: 'minecraft',
                        name: 'Minecraft Java',
                        description: '2 GB RAM · 10 slots · Mod-ready',
                        basePrice: 2100,
                        baseRamGb: 2,
                        ramIncrementGb: 1,
                        ramIncrementPrice: 400,
                        maxRamSteps: 8,
                        baseSlots: 10,
                        slotIncrement: 2,
                        slotIncrementPrice: 100,
                        maxSlotSteps: 10
                    }
                },
                selectedPlan: 'cs2',
                selectedLocation: 'dallas',
                ramSteps: 0,
                slotSteps: 0,
                totalPrice: 3000,

                get currentPlan() {
                    return this.plans[this.selectedPlan];
                },

                updatePrice() {
                    if (!this.currentPlan) return;
                    const base = this.currentPlan.basePrice;
                    const ramCost = this.ramSteps * this.currentPlan.ramIncrementPrice;
                    const slotCost = this.slotSteps * this.currentPlan.slotIncrementPrice;
                    this.totalPrice = base + ramCost + slotCost;
                },

                ramLabel() {
                    if (!this.currentPlan) return '—';
                    const value = this.currentPlan.baseRamGb + (this.ramSteps * this.currentPlan.ramIncrementGb);
                    return value.toFixed(1) + ' GB';
                },

                ramDescription() {
                    if (!this.currentPlan) return '';
                    if (this.ramSteps === 0) return 'Using base memory allocation.';
                    const extra = this.ramSteps * this.currentPlan.ramIncrementGb;
                    const cost = this.ramSteps * this.currentPlan.ramIncrementPrice;
                    return `+${extra.toFixed(1)} GB · +${this.formatCredits(cost)} credits`;
                },

                slotLabel() {
                    if (!this.currentPlan) return '—';
                    const value = this.currentPlan.baseSlots + (this.slotSteps * this.currentPlan.slotIncrement);
                    return value + ' slots';
                },

                slotDescription() {
                    if (!this.currentPlan) return '';
                    if (this.slotSteps === 0) return 'Using base player slots.';
                    const extra = this.slotSteps * this.currentPlan.slotIncrement;
                    const cost = this.slotSteps * this.currentPlan.slotIncrementPrice;
                    return `+${extra} slots · +${this.formatCredits(cost)} credits`;
                },

                locationLabel() {
                    const map = {
                        'dallas': 'Dallas, USA',
                        'new-york': 'New York, USA',
                        'frankfurt': 'Frankfurt, EU',
                        'sydney': 'Sydney, AU'
                    };
                    return map[this.selectedLocation] ?? '—';
                },

                formatCredits(value) {
                    return Number(value).toLocaleString(undefined, {
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0
                    });
                }
            }
        }
    </script>
    <script>
        document.addEventListener('alpine:init', () => { });
    </script>
</body>

</html>

